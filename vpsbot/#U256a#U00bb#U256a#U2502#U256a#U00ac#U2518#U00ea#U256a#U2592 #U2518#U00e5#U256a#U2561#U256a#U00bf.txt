systemctl restart vpsbot
systemctl status vpsbot --no-pager
journalctl -u vpsbot -f
systemctl stop vpsbot
rm /root/vpsbot/vpsbot.sqlite3
systemctl start vpsbot
-----------------------------------------------------------------
âœ… Ù…Ø±Ø­Ù„Ù‡ 1: Ù†ØµØ¨ Ø§Ø¨Ø²Ø§Ø± venv (Ø®ÛŒÙ„ÛŒ Ù…Ù‡Ù…)
apt update
apt install -y python3-venv

âœ… Ù…Ø±Ø­Ù„Ù‡ 2: Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† venv Ø®Ø±Ø§Ø¨
rm -rf /root/vpsbot/venv

âœ… Ù…Ø±Ø­Ù„Ù‡ 3: Ø³Ø§Ø®Øª venv Ø¯Ø±Ø³Øª
cd /root/vpsbot
python3 -m venv venv


Ø­Ø§Ù„Ø§ ØªØ³Øª Ú©Ù† ğŸ‘‡

ls /root/vpsbot/venv/bin/activate


Ø¨Ø§ÛŒØ¯ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯. Ø§Ú¯Ø± Ø¯ÛŒØ¯ÛŒØŒ ÛŒØ¹Ù†ÛŒ Ø¯Ø±Ø³Øª Ø´Ø¯Ù‡ âœ…

âœ… Ù…Ø±Ø­Ù„Ù‡ 4: ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ùˆ Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
source /root/vpsbot/venv/bin/activate
pip install -U pip
pip install aiogram python-dotenv aiosqlite pytz aiohttp requests hcloud


ØªØ³Øª Ù¾Ø§ÛŒØªÙˆÙ†:

which python
# Ø¨Ø§ÛŒØ¯ Ø¨Ø¯Ù‡: /root/vpsbot/venv/bin/python

âœ… Ù…Ø±Ø­Ù„Ù‡ 5: Ø§ØµÙ„Ø§Ø­ ÙØ§ÛŒÙ„ systemd (Ø®ÛŒÙ„ÛŒ Ù…Ù‡Ù…)

ÙØ§ÛŒÙ„ Ø³Ø±ÙˆÛŒØ³ Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†:

nano /etc/systemd/system/vpsbot.service


Ù…Ø­ØªÙˆØ§ Ø¨Ø§ÛŒØ¯ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ø§ÛŒÙ† Ø¨Ø§Ø´Ø¯:

[Unit]
Description=vpsbot Telegram Bot
After=network.target

[Service]
Type=simple
WorkingDirectory=/root/vpsbot
EnvironmentFile=/root/vpsbot/.env
ExecStart=/root/vpsbot/venv/bin/python /root/vpsbot/bot.py
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target


Ø¨Ø¹Ø¯ Ø­ØªÙ…Ø§Ù‹ Ø§ÛŒÙ† Ø¯Ùˆ Ø¯Ø³ØªÙˆØ±:

sed -i 's/\r$//' /etc/systemd/system/vpsbot.service
systemctl daemon-reload

âœ… Ù…Ø±Ø­Ù„Ù‡ 6: ØªØ³Øª Ø¯Ø³ØªÛŒ (Ù‚Ø¨Ù„ Ø§Ø² systemd)
source /root/vpsbot/venv/bin/activate
python /root/vpsbot/bot.py


Ø§Ú¯Ø± Ø±Ø¨Ø§Øª Ø¨Ø§Ù„Ø§ Ø¢Ù…Ø¯ â†’ Ctrl+C

âœ… Ù…Ø±Ø­Ù„Ù‡ 7: Ø§Ø¬Ø±Ø§ÛŒ Ø¯Ø§Ø¦Ù…ÛŒ
systemctl enable vpsbot
systemctl restart vpsbot
systemctl status vpsbot --no-pager


Ù„Ø§Ú¯ Ø²Ù†Ø¯Ù‡:

journalctl -u vpsbot -f

ğŸ”´ Ø§Ú¯Ø± Ø¨Ø§Ø² Ù‡Ù… Ø®Ø·Ø§ Ø¯ÛŒØ¯ÛŒ

ÙÙ‚Ø· Ø§ÛŒÙ† 3 Ø®Ø±ÙˆØ¬ÛŒ Ø±Ùˆ Ø¨ÙØ±Ø³ØªØŒ Ø®ÙˆØ¯Ù… Ø¯Ù‚ÛŒÙ‚ pinpoint Ù…ÛŒâ€ŒÚ©Ù†Ù…:

ls -la /root/vpsbot/venv/bin
systemctl status vpsbot --no-pager
journalctl -u vpsbot -n 50 --no-pager


Ø§Ù„Ø§Ù† Ù…Ø´Ú©Ù„ Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø´Ø®ØµÙ‡ Ùˆ Ø¨Ø§ Ù…Ø±Ø§Ø­Ù„ Ø¨Ø§Ù„Ø§ Û±Û°Û°Ùª Ø­Ù„ Ù…ÛŒâ€ŒØ´Ù‡ âœ…